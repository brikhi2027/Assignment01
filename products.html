<!--
=================================================================
Name: products.html
Assignment: 2
Authors: Anastasia Zaharia (UCID: 30184046) & Bhavna Rikhi (UCID: 30171786)
Submission: February 23, 2024
Description: Product listing page of e-commerce website 
=================================================================
-->

<!DOCTYPE html>
<html lang="en">
<html>
<body>
<head>
    <title>ShoeZ & Co</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The products page of an e-commerce website for shoes.">
    <meta name="keywords" content="shoes, footwear, e-commerce ">
    <meta name="author" content="Bhavna Rikhi, Anastasia Zaharia">
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" href ="ecomerce_favicon.ico" type="image/x-icon">
</head>
    <header>
        <div class="companylogo">
            <img src="images/colorful_logo.jpg" alt="Shoe Company Logo"/>
        </div>

        <div class="companyname">
            <h1>ShoeZ & Co</h1>
        </div>
    </header>

    <div>
        <nav>
            <a href="index.html">Back to Home</a>
            <br>
            <a href="contact.html">Contact</a>
            <br>
            <a href="login.html">Login</a>
        </nav>
    </div>

    <main>
        <section class = "product-list">
            <table>
                <tr>
                    <td>
                        <div id="product-1" class = "product-item">
                            <img class="product-image" src="images/shoe1.png" alt="Chunky Casual Cat Sneaker" width="100%">
                            <h2 class="product-name">Chunky Casual Cat Sneaker</h2>
                            <p class="product-price">$65.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td>
                    <td>
                        <div id="product-2" class = "product-item">
                            <img class="product-image" src="images/shoe2.png" alt="Space Bunny White Sneaker" width="100%">
                            <h2 class="product-name">Space Bunny White Sneaker</h2>
                            <p class="product-price">$60.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="product-3" class = "product-item">
                            <img class="product-image" src="images/shoe3.png" alt="Coco Bunny Purple Sneaker" width="100%">
                            <h2 class="product-name">Coco Bunny Purple Sneaker</h2>
                            <p class="product-price">$75.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td>
                    <td>
                        <div id="product-4" class = "product-item">
                            <img class="product-image" src="images/shoe4.png" alt="Brown Rope-Lace Sneaker" width="100%">
                            <h2 class="product-name">Brown Rope-Lace Sneaker</h2>
                            <p class="product-price">$75.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="product-5" class = "product-item">
                            <img class="product-image" src="images/shoe5.png" alt="Kids Disney Mickey White Sneaker" width="100%">
                            <h2 class="product-name">Kids Disney Mickey White Sneaker</h2>
                            <p class="product-price">$45.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td>
                    <td>
                        <div id="product-6" class = "product-item">
                            <img class="product-image" src="images/shoe6.png" alt="Kids Disney Wish White Sneaker" width="100%">
                            <h2 class="product-name">Kids Disney Wish White Sneaker</h2>
                            <p class="product-price">$45.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="product-7" class = "product-item">
                            <img class="product-image" src="images/shoe7.png" alt="Men's Leather Suade Sneaker" width="100%">
                            <h2 class="product-name">Men's Leather Suade Sneaker</h2>
                            <p class="product-price">$75.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>
                    </td> 
                    <td>
                        <div id="product-8" class = "product-item">
                            <img class="product-image" src="images/shoe8.png" alt="Men's Daily Waterproof Sneaker" width="100%">
                            <h2 class="product-name">Men's Daily Waterproof Sneaker</h2>
                            <p class="product-price">$85.00</p>
                            <button onclick="addToCart(event)">Add to Cart</button>
                        </div>     
                    </td>
                </tr>
                    <td id="cart">
                        <div class="shopping-cart">
                            <div class="title">
                                <h1>Shopping Cart</h1>
                            </div>
                        </div>
                    </td>
                
            </table>
        </section>

        
    </main>

    <footer>
        <p>&copy;2024 ShoeZ & Co. All rights reserved.</p>
    </footer>

    <script>
        // styling for the shopping cart class
        document.getElementById("cart").querySelector(".shopping-cart").style.width = "200%";
        document.getElementById("cart").querySelector(".shopping-cart").style.textAlign = "center";

        var cart = document.getElementById("cart")
            .querySelector(".shopping-cart");

        var shoppingCart = {
            items: []
        };

        function addToCart(event) {
            var alertProduct = event.target.parentElement.querySelector('.product-name').innerText;
            alert(`${alertProduct} has been added to Cart`);

            var parent = event.target.parentElement;
            var id = parent.id;

            var item = shoppingCart.items.find(x => x.id == id); // returns first element in the items array whose id matches current parent id, or undefined if no match
            if (item == undefined) // if no match was found, create a new item
            {
                var productName = parent.querySelector(".product-name").innerText;
                var productPrice = parent.querySelector(".product-price").innerText;

                item = {
                    id: id,
                    name: productName,
                    price: productPrice,
                    quantity: 1,
                    element: parent
                };
                shoppingCart.items.push(item);

                var cartItem = document.createElement("div");
                cartItem.classList.add("cart-item");
                cartItem.innerHTML = "<span>" + item.name + "</span>&nbsp;<span>" + item.price + "</span>&nbsp;<span class='product-quantity'>Quantity: " + item.quantity + "</span>&nbsp;";
                // &nbsp; is a non-breaking space character, means will not break into new line
                var removeButton = document.createElement("button");
                removeButton.innerText = "Remove";
                removeButton.onclick = function() {
                    item.quantity--;
                    if (item.quantity > 0)
                    {
                        item.cartElement.querySelector(".product-quantity").innerText = "Quantity: " + item.quantity;
                    } else {
                        cart.removeChild(cartItem); // removing the div from cart TABLE DATA CELL (actual html code)
                        shoppingCart.items.pop(item); // removing the item from shopping cart OBJECT (created for convenience of searching)
                    }
                };
                cartItem.appendChild(removeButton);

                // styling for shopping-cart button
                removeButton.style.backgroundColor = "#4CAF50";
                removeButton.style.padding = "10px";
                removeButton.style.borderRadius = "5px";
                removeButton.style.margin = "10px";
                removeButton.style.color = "#ffffff";
                removeButton.style.border = "none";
                removeButton.style.width = "100px"

                // styling for button: hover

                removeButton.addEventListener('mouseover', () => {
                    removeButton.style.backgroundColor = '#ff0000';
                });
                
                removeButton.addEventListener('mouseout', () => {
                    removeButton.style.backgroundColor = '#4CAF50';
                });


                cart.appendChild(cartItem);
                item.cartElement = cartItem;
            } else { // otherwise increment quantity and update the element to reflect this change
                item.quantity++;
                item.cartElement.querySelector(".product-quantity").innerText = "Quantity: " + item.quantity;
            }
        }
        
    </script>

</body>
</html>